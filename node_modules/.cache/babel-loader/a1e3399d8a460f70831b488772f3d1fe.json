{"ast":null,"code":"import _classCallCheck from \"/Users/deepanshu/react/xcite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/deepanshu/react/xcite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/deepanshu/react/xcite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/deepanshu/react/xcite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/deepanshu/react/xcite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/deepanshu/react/xcite/src/Protected.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch, Redirect } from 'react-router-dom';\nimport Layout from './components/layout/Layout';\nimport Dashboard from './components/layout/Dashboard';\nimport FormPage from './components/layout/FormPage';\nimport Login from './auth/Login';\nimport { connect } from 'react-redux';\nimport { login as _login } from './actions/authActions';\nimport { Link, withRouter } from 'react-router-dom';\n\nvar Auth =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Auth, _React$Component);\n\n  function Auth() {\n    _classCallCheck(this, Auth);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Auth).apply(this, arguments));\n  }\n\n  _createClass(Auth, null, [{\n    key: \"getUser\",\n    value: function getUser() {\n      return localStorage.getItem(\"user\");\n    }\n  }]);\n\n  return Auth;\n}(React.Component);\n\nvar Protected =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Protected, _Component);\n\n  function Protected() {\n    _classCallCheck(this, Protected);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Protected).apply(this, arguments));\n  }\n\n  _createClass(Protected, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          isLoginPending = _this$props.isLoginPending,\n          isLoginSuccess = _this$props.isLoginSuccess,\n          loginError = _this$props.loginError,\n          auth = _this$props.auth;\n      console.log(\"!!!!\");\n      console.log(this.props);\n      console.log(\"!!!!\");\n\n      if (this.props.auth.isLoginSuccess) {\n        localStorage.setItem('user', \"admin\");\n      }\n\n      if (Auth.getUser()) {\n        return React.createElement(Layout, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 33\n          },\n          __self: this\n        }, this.props.auth.isLoginSuccess == true ? React.createElement(Redirect, {\n          to: {\n            pathname: '/dashboard'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 36\n          },\n          __self: this\n        }) : null, React.createElement(Route, {\n          exact: true,\n          path: \"/dashboard\",\n          component: Dashboard,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }), React.createElement(Route, {\n          exact: true,\n          path: \"/existing\",\n          component: FormPage,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }));\n      } else {\n        localStorage.removeItem('user');\n        return React.createElement(Redirect, {\n          to: {\n            pathname: '/login'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return Protected;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var auth = state.auth;\n  return {\n    auth: auth\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    login: function login(email, password) {\n      dispatch(_login(email, password));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Protected)); //   export default Protected;","map":{"version":3,"sources":["/Users/deepanshu/react/xcite/src/Protected.js"],"names":["React","Component","BrowserRouter","Router","Route","Switch","Redirect","Layout","Dashboard","FormPage","Login","connect","login","Link","withRouter","Auth","localStorage","getItem","Protected","props","isLoginPending","isLoginSuccess","loginError","auth","console","log","setItem","getUser","pathname","removeItem","mapStateToProps","state","mapDispatchToProps","dispatch","email","password"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,EAA0CC,MAA1C,EAAmDC,QAAnD,QAAmE,kBAAnE;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,SAAP,MAAsB,+BAAtB;AACA,OAAOC,QAAP,MAAqB,8BAArB;AACA,OAAOC,KAAP,MAAkB,cAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,KAAK,IAALA,MAAT,QAAsB,uBAAtB;AACA,SAAQC,IAAR,EAAcC,UAAd,QAAgC,kBAAhC;;IAEMC,I;;;;;;;;;;;;;8BACe;AACb,aAAOC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAP;AACH;;;;EAHcjB,KAAK,CAACC,S;;IAOnBiB,S;;;;;;;;;;;;;6BACO;AAAA,wBAC+C,KAAKC,KADpD;AAAA,UACJC,cADI,eACJA,cADI;AAAA,UACYC,cADZ,eACYA,cADZ;AAAA,UAC4BC,UAD5B,eAC4BA,UAD5B;AAAA,UACuCC,IADvC,eACuCA,IADvC;AAETC,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAjB;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;;AACA,UAAI,KAAKN,KAAL,CAAWI,IAAX,CAAgBF,cAApB,EACA;AACAL,QAAAA,YAAY,CAACU,OAAb,CAAqB,MAArB,EAA6B,OAA7B;AACC;;AAGD,UAAIX,IAAI,CAACY,OAAL,EAAJ,EACA;AACA,eACA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEC,KAAKR,KAAL,CAAWI,IAAX,CAAgBF,cAAhB,IAAgC,IAAjC,GACC,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAE;AAACO,YAAAA,QAAQ,EAAE;AAAX,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADD,GAGA,IALA,EAOA,oBAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,IAAI,EAAC,YAAlB;AAA+B,UAAA,SAAS,EAAEpB,SAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAPA,EAQA,oBAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,IAAI,EAAC,WAAlB;AAA8B,UAAA,SAAS,EAAEC,QAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UARA,CADA;AAYC,OAdD,MAeI;AACJO,QAAAA,YAAY,CAACa,UAAb,CAAwB,MAAxB;AACA,eACA,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAE;AAACD,YAAAA,QAAQ,EAAE;AAAX,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADA;AAIC;AACA;;;;EAlCmB3B,S;;AAqCtB,IAAM6B,eAAe,GAAG,SAAlBA,eAAkB,CAACC,KAAD,EAAW;AAAA,MACzBR,IADyB,GAChBQ,KADgB,CACzBR,IADyB;AAEjC,SAAO;AACLA,IAAAA,IAAI,EAACA;AADA,GAAP;AAGD,CALD;;AAOA,IAAMS,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACvC,SAAO;AACLrB,IAAAA,KAAK,EAAE,eAACsB,KAAD,EAAQC,QAAR,EAAsB;AAAEF,MAAAA,QAAQ,CAACrB,MAAK,CAACsB,KAAD,EAAQC,QAAR,CAAN,CAAR;AAC9B;AAFI,GAAP;AAID,CALD;;AAOA,eAAexB,OAAO,CAACmB,eAAD,EAAkBE,kBAAlB,CAAP,CAA6ClB,UAAU,CAACI,SAAD,CAAvD,CAAf,C,CAIF","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route , Switch , Redirect } from 'react-router-dom';\nimport Layout from './components/layout/Layout';\nimport Dashboard from './components/layout/Dashboard';\nimport FormPage from './components/layout/FormPage';\nimport Login from './auth/Login';\nimport { connect } from 'react-redux';\nimport { login } from './actions/authActions';\nimport {Link, withRouter } from 'react-router-dom';\n\nclass Auth extends React.Component {\n    static getUser() {\n        return localStorage.getItem(\"user\");\n    }\n}\n\n\nclass Protected extends Component {  \n    render() {\n    let {isLoginPending, isLoginSuccess, loginError,auth} = this.props;\n    console.log(\"!!!!\");\n    console.log(this.props);\n    console.log(\"!!!!\");\n    if (this.props.auth.isLoginSuccess)\n    {\n    localStorage.setItem('user', \"admin\");\n    }\n\n\n    if (Auth.getUser())\n    {\n    return (\n    <Layout>\n    {\n    (this.props.auth.isLoginSuccess==true)?(\n     <Redirect to={{pathname: '/dashboard'}}/>\n    ):\n    null\n    } \n    <Route exact path=\"/dashboard\" component={Dashboard} />\n    <Route exact path=\"/existing\" component={FormPage} />\n    </Layout>\n      );\n    }\n    else{\n    localStorage.removeItem('user');\n    return (\n    <Redirect to={{pathname: '/login'}}/>\n    );\n       \n    }\n    } \n  }\n  \n  const mapStateToProps = (state) => {\n    const { auth } = state;\n    return {\n      auth:auth\n    };\n  }\n  \n  const mapDispatchToProps = (dispatch) => {\n    return {\n      login: (email, password) =>  { dispatch(login(email, password))\n      },\n    };\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(withRouter(Protected));\n\n  \n\n//   export default Protected;"]},"metadata":{},"sourceType":"module"}